import{n as r,h as n}from"./index-67337038.js";const o={name:"CompatDatePicker",inheritAttrs:!1,model:{prop:"value",event:"input"},props:{value:{type:[String,Number,Date,Object,null],default:null},type:{type:String,default:"date"},valueFormat:{type:String,default:""},valueType:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!0}},data(){return{innerMoment:this.toMoment(this.value)}},computed:{resolvedValueType(){return this.valueType?this.valueType:this.valueFormat?"format":"date"},displayFormat(){return this.valueFormat?this.valueFormat:this.type==="datetime"?"YYYY-MM-DD HH:mm:ss":this.type==="month"?"YYYY-MM":"YYYY-MM-DD"},computedShowTime(){return this.type==="datetime"?!0:!!(this.$attrs&&this.$attrs.showTime)},safeGetContainer(){const{getCalendarContainer:e}=this.$attrs||{};return typeof e=="function"?e:()=>typeof document<"u"?document.body:void 0}},watch:{value(e){this.innerMoment=this.toMoment(e)}},methods:{onOpenChange(){},onPanelChange(){},onOk(){},toMoment(e){if(e==null||e==="")return null;if(n.isMoment(e))return e;if(typeof e=="number"){const t=String(e).length===10?e*1e3:e;return n(t)}if(e instanceof Date)return n(e);if(typeof e=="string"){const t=this.displayFormat,a=n(e,t,!0);return a.isValid()?a:n(e)}try{return n(e)}catch{return null}},outputValue(e){if(!e||!n.isMoment(e)||!e.isValid())return null;const t=this.resolvedValueType;return t==="format"?e.format(this.displayFormat):t==="timestamp"?e.valueOf():e.toDate()},onAntChange(e,t){this.innerMoment=e;const a=this.outputValue(e);this.$emit("input",a),this.$emit("change",a)}}};var s=function(){var t=this,a=t._self._c;return a("a-date-picker",{class:t.$attrs&&t.$attrs.class,style:t.$attrs&&t.$attrs.style,attrs:{value:t.innerMoment,format:t.displayFormat,showTime:t.computedShowTime,getCalendarContainer:t.safeGetContainer,placeholder:t.placeholder,disabled:t.disabled,allowClear:t.allowClear},on:{openChange:t.onOpenChange,panelChange:t.onPanelChange,ok:t.onOk,change:t.onAntChange}})},l=[],i=r(o,s,l,!1,null,"014511b3",null,null);const d=i.exports;export{d as default};
