import{n as a}from"./index-67337038.js";const o={name:"ReportAudition",data(){return{loading:!1,points:[]}},computed:{columns(){return[{title:"月份",dataIndex:"month",key:"month"},{title:"完成试听",dataIndex:"finished",key:"finished"},{title:"30日内转化",dataIndex:"converted",key:"converted"},{title:"转化率(%)",dataIndex:"rate",key:"rate"}]}},methods:{async loadTrend(){this.loading=!0;try{const t=await(await fetch("/api/report/student/trial-conversion-trend")).json();this.points=t&&t.code===200?t.data&&t.data.points||[]:[]}finally{this.loading=!1}},exportTrend(){window.open("/api/report/export/trial-conversion-trend.csv","_blank")}},mounted(){this.loadTrend()}};var r=function(){var t=this,n=t._self._c;return n("div",{staticStyle:{background:"#fff",padding:"16px"}},[n("h2",[t._v("试听转化报表")]),n("a-space",{staticStyle:{"margin-bottom":"12px"}},[n("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.loadTrend}},[t._v("加载6个月转化趋势")]),n("a-button",{attrs:{disabled:t.loading},on:{click:t.exportTrend}},[t._v("导出趋势CSV")])],1),n("a-table",{attrs:{"data-source":t.points,columns:t.columns,pagination:!1,rowKey:"month"}})],1)},i=[],d=a(o,r,i,!1,null,"079b3926",null,null);const l=d.exports;export{l as default};
